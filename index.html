<!DOCTYPE html>  
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Civic Translator</title>
  <style>
    :root {
      --bg: #ffffff;
      --text: #111111;
      --accent: #0077cc;
    }
    .dark {
      --bg: #111111;
      --text: #ffffff;
      --accent: #66ccff;
    }
    body {
      margin: 0;
      font-family: sans-serif;
      background-color: var(--bg);
      color: var(--text);
      transition: background 0.3s, color 0.3s;
    }
    .container {
      max-width: 700px;
      margin: 0 auto;
      padding: 2rem;
      text-align: center;
    }
    header, footer {
      margin-bottom: 2rem;
      text-align: center;
    }
    .controls {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 1rem;
      margin-bottom: 2rem;
    }
    select, button {
      padding: 0.5rem 1rem;
      font-size: 1rem;
      border: none;
      border-radius: 4px;
      background-color: var(--accent);
      color: white;
      cursor: pointer;
    }
    textarea {
      width: 100%;
      max-width: 600px;
      height: 120px;
      padding: 1rem;
      font-size: 1rem;
      border: 1px solid var(--accent);
      border-radius: 4px;
      resize: vertical;
      background-color: var(--bg);
      color: var(--text);
    }
    .output, .mirror, .badge {
      margin-top: 2rem;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
      padding: 1rem;
      border-left: 4px solid var(--accent);
      background-color: rgba(0,0,0,0.05);
      color: var(--text);
    }
    .mirror {
      font-style: italic;
      color: var(--accent);
    }
    .badge {
      font-weight: bold;
      color: green;
    }
    #civicLog {
      margin-top: 3rem;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
      padding: 1rem;
      border-top: 1px dashed var(--accent);
      color: var(--text);
    }
    footer {
      margin-top: 4rem;
      font-size: 0.9rem;
      color: var(--text);
    }
    #welcomeModal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.85);
      color: white;
      z-index: 9999;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
    }
    #welcomeModal h2 {
      font-size: 2rem;
      margin-bottom: 1rem;
    }
    #welcomeModal p {
      font-size: 1.2rem;
    }
    #welcomeModal button {
      margin-top: 1rem;
      padding: 0.5rem 1rem;
      font-size: 1rem;
      background-color: var(--accent);
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
    @media (max-width: 600px) {
      .controls {
        flex-direction: column;
      }
      textarea, .output, .mirror, .badge {
        width: 90%;
      }
      select, button {
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Body content will go here in the next step -->

    <header>
  <button onclick="returnToWelcome()" style="position:absolute;left:1rem;top:1rem;">🏠 Home</button>
  <h1 id="title">🌍 Civic Translator</h1>
  <p id="intro">A multilingual, poetic platform for community engagement and civic clarity.</p>
</header>

<div class="controls">
  <button onclick="toggleDark()">🌙 Toggle Dark Mode</button>
  <select id="language" onchange="translateDropdown()">
    <option value="en">English</option>
    <option value="el">Ελληνικά</option>
    <option value="fr">Français</option>
    <option value="es">Español</option>
    <option value="de">Deutsch</option>
    <option value="it">Italiano</option>
    <option value="zh">中文</option>
    <option value="ar">العربية</option>
    <option value="ru">Русский</option>
    <option value="ja">日本語</option>
    <option value="pt">Português</option>
    <option value="tr">Türkçe</option>
  </select>


<!-- Fallback Translator with MyMemory API -->
<select id="languageSelect">
  <option value="en|fr">English → French</option>
  <option value="en|el">English → Greek</option>
  <option value="el|en">Greek → English</option>
  <!-- Πρόσθεσε ό,τι συνδυασμούς θέλεις -->
</select>

<input type="text" id="fallbackInput" placeholder="Enter civic insight for fallback..." />
<button onclick="translateWithMyMemory()">Try Fallback</button>

<div class="output" id="fallbackOutput"></div>




  
  <div id="instructionsBox" class="output"></div>
</div>


<textarea id="inputText" placeholder="Enter civic insight, poetic report, or public data..."></textarea>
<button onclick="translateText()">Translate</button>

<div class="mirror" id="mirrorPreview"></div>
<div class="output" id="translatedOutput"></div>
<div class="badge" id="badgeDisplay"></div>

<section id="civicLog">
  <h3>Civic Log</h3>
  <ul id="logList"></ul>
</section>

<div id="welcomeModal">
  <h2>🌸 Welcome to the Civic Garden</h2>
  <p>This poetic translator helps communities bloom across languages.</p>
  <button onclick="dismissWelcome()">Enter</button>
</div>

<footer>
  © Vasileios Nikitaras – Fanes. All rights reserved.
</footer>

    
  </div>



<script>
const translations = {
  en: { title: "🌍 Civic Translator", intro: "A multilingual, poetic platform for community engagement and civic clarity." },
  el: { title: "🌍 Μεταφραστής Πολιτών", intro: "Μια πολυγλωσσική, ποιητική πλατφόρμα για συμμετοχή και διαφάνεια." },
  fr: { title: "🌍 Traducteur Civique", intro: "Une plateforme multilingue et poétique pour l'engagement communautaire." },
  es: { title: "🌍 Traductor Cívico", intro: "Una plataforma multilingüe y poética para la participación comunitaria." },
  de: { title: "🌍 Bürgerübersetzer", intro: "Eine mehrsprachige, poetische Plattform für bürgerschaftliches Engagement." },
  it: { title: "🌍 Traduttore Civico", intro: "Una piattaforma multilingue e poetica per l'impegno civico." },
  zh: { title: "🌍 公民翻译器", intro: "一个多语言、富有诗意的平台，促进社区参与与透明。" },
  ar: { title: "🌍 المترجم المدني", intro: "منصة متعددة اللغات وشاعرية للمشاركة المجتمعية والوضوح المدني." },
  ru: { title: "🌍 Гражданский Переводчик", intro: "Многоязычная поэтическая платформа для гражданского участия и прозрачности." },
  ja: { title: "🌍 シビック・トランスレーター", intro: "多言語で詩的なプラットフォーム。市民の関与と透明性を促進します。" },
  pt: { title: "🌍 Tradutor Cívico", intro: "Uma plataforma multilíngue e poética para o engajamento comunitário." },
  tr: { title: "🌍 Sivil Çevirmen", intro: "Toplumsal katılım için çok dilli, şiirsel bir platform." }
};


  const instructions = {
  en: "Type your civic insight above. Choose a target language. Click Translate. Your message will bloom below, and each dispatch will be logged in the Civic Log.",
  el: "Πληκτρολογήστε την πολιτική σας σκέψη παραπάνω. Επιλέξτε τη γλώσσα στην οποία θέλετε να μεταφραστεί. Πατήστε Μετάφραση. Το μήνυμά σας θα εμφανιστεί από κάτω και κάθε αποστολή θα καταγραφεί στο Civic Log.",
  fr: "Saisissez votre pensée civique ci-dessus. Choisissez une langue cible. Cliquez sur Traduire. Votre message fleurira ci-dessous et chaque envoi sera enregistré dans le Civic Log.",
  es: "Escriba su pensamiento cívico arriba. Elija un idioma de destino. Haga clic en Traducir. Su mensaje florecerá abajo y cada envío se registrará en el Civic Log.",
  ja: "上に市民の思いを入力してください。翻訳先の言語を選択し、「翻訳」をクリックします。メッセージは下に表示され、すべての送信が Civic Log に記録されます.",
  de: "Geben Sie oben Ihren bürgerlichen Gedanken ein. Wählen Sie eine Zielsprache. Klicken Sie auf Übersetzen. Ihre Nachricht erscheint unten und wird im Civic Log protokolliert.",
  it: "Scrivi il tuo pensiero civico sopra. Scegli una lingua di destinazione. Clicca su Traduci. Il tuo messaggio apparirà sotto e ogni invio sarà registrato nel Civic Log."
};


let civicHistory = [];

function toggleDark() {
  document.body.classList.toggle('dark');
}

function translateDropdown() {
  const lang = document.getElementById("language").value;
  const t = translations[lang];
  if (t) {
    document.getElementById("title").textContent = t.title;
    document.getElementById("intro").textContent = t.intro;
  }
  document.getElementById("instructionsBox").textContent = instructions[lang];
  translateText();
}

async function translateText() {
  const input = document.getElementById("inputText").value;
  const lang = document.getElementById("language").value;
  const output = document.getElementById("translatedOutput");
  const badge = document.getElementById("badgeDisplay");
  const logList = document.getElementById("logList");

  if (input.trim() === "") {
    output.textContent = "Please enter civic insight to translate.";
    badge.textContent = "";
    return;
  }

  try {
    const res = await fetch("https://corsproxy.io/?https://translate.argosopentech.com/translate", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        q: input,
        source: "auto",
        target: lang,
        format: "text"
      })
    });

    const data = await res.json();
    output.innerHTML = `<strong>Translated (${lang}):</strong><br><em>${data.translatedText}</em>`;
    badge.textContent = "🌱 Insight Seed dispatched!";
    civicHistory.push(`[${lang}] “${data.translatedText}”`);
    logList.innerHTML = civicHistory.map(item => `<li>${item}</li>`).join("");
  } catch (err) {
    output.textContent = "Argos failed. Trying fallback...";
    badge.textContent = "🕊️ Whisper fallback dispatched.";

    // Prepare fallback input and language pair
    document.getElementById("fallbackInput").value = input;
    const fallbackMap = {
      en: "en|fr",
      el: "el|en",
      fr: "en|fr",
      es: "en|es",
      de: "en|de",
      it: "en|it",
      zh: "en|zh",
      ar: "en|ar",
      ru: "en|ru",
      ja: "en|ja",
      pt: "en|pt",
      tr: "en|tr"
    };
    document.getElementById("languageSelect").value = fallbackMap[lang] || `en|${lang}`;
    translateWithMyMemory();
  }
}



</script>


</body>
</html>




























